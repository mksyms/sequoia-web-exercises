<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
    <title>Weather Map Project</title>

    <!--bootstrap styling-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!--custom css styling-->
    <style>
        .container {
            background-color: lightblue;
            padding: 20px;
            text-align: center;
        }
        .row {
            background-color: lightgray;
        }
        .firstDay, .secondDay, .thirdDay {
            border: 1px solid black;
        }
        .header {
            margin: 0px;
            padding: 0px;
            text-align: left;
            font-weight: bolder;
        }
        .city {
            text-align: left;
            font-weight: bold;
        }
        #map-canvas{
            width: 100%;
            margin-top: 20px;
            height: 481px;
        }

        span {
            font-weight: bold;
        }
        img {
            margin: 0px;
        }
    </style>
</head>
<body>
<!--jQuery url-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <div class="container">
        <h3 class="header">Weather Application</h3>
            <br>
        <form id="addressForm">
            <div class="row">
                <div class="col-xs-6">
                    <input type="text" class="form-control" placeholder="Latitude" name="latitude" id="latitude" onsubmit="return validateForm()" method="GET">
                </div>
                <div class="col-xs-6">
                    <input type="text" class="form-control" placeholder="Longitude" name="longitude" id="longitude" onsubmit="return validateForm()" method="GET">
                </div>
                <br>
                <button type="submit" class="btn btn-warning">Get Weather!</button>
            </div>
        </form>
        <br>
        <h4 class="city">City</h4>
        <main class="row">
            <div class="col-xs-4 firstDay">
                <h6>Temp#F/C</h6>
                <h6>weather.img</h6>
                <h6>boldCloudStructure: type</h6>
                <h6>boldHumidity: #</h6>
                <h6>boldWind: #</h6>
                <h6>boldPressure: #</h6>
            </div>
            <div class="col-xs-4 secondDay">
                <h6>Temp#F/C</h6>
                <h6>weather.img</h6>
                <h6>boldCloudStructure: type</h6>
                <h6>boldHumidity: #</h6>
                <h6>boldWind: #</h6>
                <h6>boldPressure: #</h6>
            </div>
            <div class="col-xs-4 thirdDay">
                <h6>Temp#F/C</h6>
                <h6>weather.img</h6>
                <h6>boldCloudStructure: type</h6>
                <h6>boldHumidity: #</h6>
                <h6>boldWind: #</h6>
                <h6>boldPressure: #</h6>
            </div>
        </main>
        <div class="center-block" id="map-canvas"></div>
    </div>
    <!--Bootstrap url-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--Google Maps API Key-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAQuHh2IJUCJJu7F8ymdmgDjc5cMfk_fco"></script>

    <script>
        "use strict";

        function fillOutNewRows(weatherForDays) {
            var weatherROW = "";

            for(var i = 0; i < weatherForDays.list.length; i += 8) {
                console.log(weatherForDays);
                weatherROW += "<div>";
                weatherROW += "<h4><span>" + weatherForDays.list[i].temp.max.toFixed(0) + "/" + weatherForDays.list[i].temp.min.toFixed(0) + "&deg;" + "</span></h4>";
                weatherROW += "<img src='https://openweathermap.org/img/w/"+weatherForDays.list[i].weather[0].icon+".png'>";
                weatherROW += "<h6>" + "<span>" + weatherForDays.list[i].weather[0].main + ": </span>" + weatherForDays.list[i].weather[0].description + "</h6>";
                weatherROW += "<h6>" + "<span>Humidity: </span>" + weatherForDays.list[i].humidity + "</h6>";
                weatherROW += "<h6>" + "<span>Wind: </span>" + weatherForDays.list[i].speed + "</h6>";
                weatherROW += "<h6>" + "<span>Pressure: </span>" + weatherForDays.list[i].pressure + "</h6>";
                weatherROW += "</div>";
            }

            $(".firstDay, .secondDay, .thirdDay").html(weatherROW);
            $(".city").text(weatherForDays.city.name);
        }

        var information = $.get("http://api.openweathermap.org/data/2.5/forecast/daily", {
            APPID: "a8df453d0094a6356c71e33efe98f000",
            q:     "San Antonio, TX",
            units: "imperial",
            cnt: 3
        }).done(function (response) {
            fillOutNewRows(response);
        }).fail(function (jqXhr, status, error) {
            console.log("Response status: " + status);
            console.log("Error object: " + error);
        });

    </script>
</body>
</html>